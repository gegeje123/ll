var PointerManager={MOUSE_POINTER_TYPE:'mouse',TOUCH_POINTER_TYPE:'touch',POINTER_EVENT_TIMEOUT_MS:500,standardTouch:false,touchDetectionEvent:null,lastTouchType:null,pointerTimeout:null,pointerEventLock:false,getPointerEventsSupported:function(){return this.standardTouch;},getPointerEventsInputTypes:function(){if(window.navigator.pointerEnabled){return{MOUSE:'mouse',TOUCH:'touch',PEN:'pen'};}else if(window.navigator.msPointerEnabled){return{MOUSE:0x00000004,TOUCH:0x00000002,PEN:0x00000003};}else{return{};}},getPointer:function(){if(Modernizr.ios){return this.TOUCH_POINTER_TYPE;}
if(this.lastTouchType){return this.lastTouchType;}
return Modernizr.touch?this.TOUCH_POINTER_TYPE:this.MOUSE_POINTER_TYPE;},setPointerEventLock:function(){this.pointerEventLock=true;},clearPointerEventLock:function(){this.pointerEventLock=false;},setPointerEventLockTimeout:function(){var that=this;if(this.pointerTimeout){clearTimeout(this.pointerTimeout);}
this.setPointerEventLock();this.pointerTimeout=setTimeout(function(){that.clearPointerEventLock();},this.POINTER_EVENT_TIMEOUT_MS);},triggerMouseEvent:function(originalEvent){if(this.lastTouchType==this.MOUSE_POINTER_TYPE){return;}
this.lastTouchType=this.MOUSE_POINTER_TYPE;$j(window).trigger('mouse-detected',originalEvent);},triggerTouchEvent:function(originalEvent){if(this.lastTouchType==this.TOUCH_POINTER_TYPE){return;}
this.lastTouchType=this.TOUCH_POINTER_TYPE;$j(window).trigger('touch-detected',originalEvent);},initEnv:function(){if(window.navigator.pointerEnabled){this.standardTouch=true;this.touchDetectionEvent='pointermove';}else if(window.navigator.msPointerEnabled){this.standardTouch=true;this.touchDetectionEvent='MSPointerMove';}else{this.touchDetectionEvent='touchstart';}},wirePointerDetection:function(){var that=this;if(this.standardTouch){$j(window).on(this.touchDetectionEvent,function(e){switch(e.originalEvent.pointerType){case that.getPointerEventsInputTypes().MOUSE:that.triggerMouseEvent(e);break;case that.getPointerEventsInputTypes().TOUCH:case that.getPointerEventsInputTypes().PEN:that.triggerTouchEvent(e);break;}});}else{$j(window).on(this.touchDetectionEvent,function(e){if(that.pointerEventLock){return;}
that.setPointerEventLockTimeout();that.triggerTouchEvent(e);});$j(document).on('mouseover',function(e){if(that.pointerEventLock){return;}
that.setPointerEventLockTimeout();that.triggerMouseEvent(e);});}},init:function(){this.initEnv();this.wirePointerDetection();}};$j(document).ready(function(){var breakpointMedium=768;var isResponsive=$j('body').hasClass('responsive');jQuery.fn.toggleSingle=function(options){var settings=$j.extend({destruct:false},options);return this.each(function(){if(!settings.destruct){$j(this).on('click',function(){$j(this).toggleClass('active').next().toggleClass('no-display');});$this=$j(this);if(!$this.hasClass('active'))
{$this.next().addClass('no-display');}}else{$j(this).off('click');$j(this).removeClass('active').next().removeClass('no-display');}});}
$j('.toggle-content').each(function(){var wrapper=jQuery(this);var hasTabs=wrapper.hasClass('tabs');var hasAccordion=wrapper.hasClass('accordion');var startOpen=wrapper.hasClass('open');var dl=wrapper.children('dl:first');var dts=dl.children('dt');var panes=dl.children('dd');var groups=new Array(dts,panes);if(hasTabs){var ul=jQuery('<ul class="toggle-tabs"></ul>');dts.each(function(){var dt=jQuery(this);var li=jQuery('<li></li>');li.html(dt.html());ul.append(li);});ul.insertBefore(dl);var lis=ul.children();groups.push(lis);}
var i;for(i=0;i<groups.length;i++){groups[i].filter(':last').addClass('last');}
function toggleClasses(clickedItem,group){var index=group.index(clickedItem);var i;for(i=0;i<groups.length;i++){groups[i].removeClass('current');groups[i].eq(index).addClass('current');}}
dts.on('click',function(e){if(jQuery(this).hasClass('current')&&wrapper.hasClass('accordion-open')){wrapper.removeClass('accordion-open');}else{wrapper.addClass('accordion-open');}
toggleClasses(jQuery(this),dts);});if(hasTabs){lis.on('click',function(e){toggleClasses(jQuery(this),lis);});lis.eq(0).trigger('click');}
if(startOpen){dts.eq(0).trigger('click');}});if(isResponsive)
{if($j('.block-layered-nav').length&&$j('.category-products').length)
{enquire.register('screen and (max-width: '+(breakpointMedium-1)+'px)',{match:function(){$j('.block-layered-nav').insertBefore($j('.category-products'))},unmatch:function(){$j('.block-layered-nav').insertAfter($j('#layered-nav-marker'))}});}}
if(isResponsive)
{enquire.register('(max-width: '+(breakpointMedium-1)+'px)',{setup:function(){this.toggleElements=$j('.sidebar .block:not(.block-layered-nav) .block-title, '+
'.block-layered-nav .block-subtitle--filter, '+
'.mobile-collapsible .block-title');},match:function(){this.toggleElements.toggleSingle();},unmatch:function(){this.toggleElements.toggleSingle({destruct:true});}});}
$j('.collapsible:not(.mobile-collapsible) .block-title').toggleSingle();});var ProductMediaManager={IMAGE_ZOOM_THRESHOLD:20,imageWrapper:null,destroyZoom:function(){},createZoom:function(image){ProductMediaManager.destroyZoom();if(image.length<=0){return;}
if(image[0].naturalWidth&&image[0].naturalHeight){var widthDiff=image[0].naturalWidth-image.width()-ProductMediaManager.IMAGE_ZOOM_THRESHOLD;var heightDiff=image[0].naturalHeight-image.height()-ProductMediaManager.IMAGE_ZOOM_THRESHOLD;if(widthDiff<0&&heightDiff<0){image.parents('.product-image').removeClass('zoom-available');return;}else{image.parents('.product-image').addClass('zoom-available');}}},swapImage:function(targetImage){targetImage=$j(targetImage);targetImage.addClass('gallery-image');var imageGallery=$j('.product-image-gallery');if(targetImage[0].complete){imageGallery.find('.gallery-image').removeClass('visible');imageGallery.append(targetImage);targetImage.addClass('visible');$j(document).trigger('product-media-manager-image-updated',{img:targetImage});}else{imageGallery.addClass('loading');imageGallery.append(targetImage);imagesLoaded(targetImage,function(){imageGallery.removeClass('loading');imageGallery.find('.gallery-image').removeClass('visible');targetImage.addClass('visible');$j(document).trigger('product-media-manager-image-updated',{img:targetImage});});}},wireThumbnails:function(){},initZoom:function(){},init:function(){$j(document).trigger('product-media-loaded',ProductMediaManager);}};$j(document).ready(function(){ProductMediaManager.init();});