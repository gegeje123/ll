jQuery.noConflict();Validation.addAllThese([['validate-uk-postcode','Please enter a valid postcode.',function(v,elem){if(elem.hasClassName('required-entry')){return Validation.get('IsEmpty').test(v)||/^(GIR 0AA)|((([ABCDEFGHIJKLMNOPRSTUWYZ][0-9][0-9]?)|(([ABCDEFGHIJKLMNOPRSTUWYZ][ABCDEFGHKLMNOPQRSTUVWXY][0-9][0-9]?)|(([ABCDEFGHIJKLMNOPRSTUWYZ][0-9][ABCDEFGHJKSTUW])|([ABCDEFGHIJKLMNOPRSTUWYZ][ABCDEFGHKLMNOPQRSTUVWXY][0-9][ABEHMNPRVWXY]))))\s*[0-9][ABDEFGHJLNPQRSTUWXYZ]{2})$/.test(v.toUpperCase());}
return true;}]]);Validation.add('validate-password','Please enter 6 or more characters. Leading or trailing spaces will be ignored.',function(v){var pass=v.strip();return!(pass.length<6);})
Validation.add('validate-email-empty','Please enter a valid email address. For example, johndoe@example.com',function(v){return /^([a-z0-9,!\#\$%&'\*\+\/=\?\^_`\{\|\}~-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z0-9,!\#\$%&'\*\+\/=\?\^_`\{\|\}~-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*@([a-z0-9-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z0-9-]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*\.(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]){2,})$/i.test(v)})
Validation.add('required-firstname','Please enter your first name.',function(v){return!Validation.get('IsEmpty').test(v);})
Validation.add('required-lastname','Please enter your surname.',function(v){return!Validation.get('IsEmpty').test(v);})
Validation.add('validate-one-gender','Please select gender.',function(v,elm){var inputs=$$('input[name="'+elm.name.replace(/([\\"])/g,'\\$1')+'"]');var error=1;for(var i=0;i<inputs.length;i++){if((inputs[i].type=='checkbox'||inputs[i].type=='radio')&&inputs[i].checked==true){error=0;}
if(Validation.isOnChange&&(inputs[i].type=='checkbox'||inputs[i].type=='radio')){Validation.reset(inputs[i]);}}
if(error==0){return true;}else{return false;}
return!Validation.get('IsEmpty').test(v,elm);})
Validation.add('validate-telephone','Please enter a valid telephone number.',function(v){if(v.indexOf('+')!==false){v=v.substr(1);}
return Validation.get('IsEmpty').test(v)||(!isNaN(parseNumber(v))&&/^\s*-?\d*(\.\d*)?\s*$/.test(v));});function TextBox_AddToIntValue(targetId,addToValue){var input=document.getElementById(targetId);var textInt=parseInt(input.value);if(isNaN(textInt)){textInt=0;}
input.value=textInt+addToValue;input.value=input.value<0?0:input.value;}
function updateTelephone(el){var checkPhone=el.value.replace(/ /g,"");el.value=checkPhone;}
jQuery.cookie=function(e,i,o){if("undefined"==typeof i){var n=null;if(document.cookie&&""!=document.cookie)
for(var r=document.cookie.split(";"),t=0;t<r.length;t++){var p=jQuery.trim(r[t]);if(p.substring(0,e.length+1)==e+"="){n=decodeURIComponent(p.substring(e.length+1));break}}
return n}
o=o||{},null===i&&(i="",o.expires=-1);var u="";if(o.expires&&("number"==typeof o.expires||o.expires.toUTCString)){var s;"number"==typeof o.expires?(s=new Date,s.setTime(s.getTime()+24*o.expires*60*60*1e3)):s=o.expires,u="; expires="+s.toUTCString()}
var a=o.path?"; path="+o.path:"",c=o.domain?"; domain="+o.domain:"",m=o.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(i),u,a,c,m].join("")};jQuery(document).ready(function($){var positionLeft=jQuery('.skip-compare').position().left-jQuery('.skip-compare').width()/2;jQuery('#header-compare').css({'left':positionLeft});jQuery('.skip-compare').click(function(){if(jQuery('.mini-compare-content').hasClass('skip-active')){jQuery('body').removeClass('dropdown-active');}else{jQuery('body').addClass('dropdown-active');}});jQuery('.group').hide();jQuery('#selectMe').change(function(){jQuery('.group').hide();jQuery('#'+jQuery(this).val()).show();})
jQuery("#nav li").bind('mouseenter',function(){if(jQuery(".add-nav li").hasClass('active')){jQuery(".add-nav li").removeClass('active');}
jQuery(".add-nav .drop").attr("style","display:none");jQuery(".add-nav .drop").addClass("js-slide-hidden");});jQuery('.closeBtn').click(function(){jQuery.cookie('footer_notification','no',{expires:365,path:'/'});jQuery('.notification').slideToggle(500);})
jQuery(".MagicZoomPlus").mouseenter(function(){jQuery(".product-options").css("display","none");jQuery(".product-options-bottom .sepButton").css("display","none");jQuery(".product-options-bottom").css("margin","55px 0 0");if(jQuery("#qty-wrapper").css('display')=="none"){jQuery(".add-to-cart > .extraDiv").remove();}else{jQuery(".add-to-cart").append('<div class="extraDiv" style="height:83px; float:right; width:5px;">&nbsp;</div>')}})
jQuery(".MagicZoomPlus").mouseleave(function(){jQuery(".product-options").css("display","block");jQuery(".product-options-bottom .sepButton").css("display","block");jQuery(".product-options-bottom").css("margin","0");if(jQuery(".sepButton").css('display')=="block"){jQuery(".add-to-cart > .extraDiv").remove();}})
jQuery(".ui-accordion-header").click(function(){jQuery("#accordion").height();if(jQuery("#accordion").height()>=650){jQuery('#footer').css({'position':'relative','left':'0','bottom':'-20px'});}else if(jQuery("#accordion").height()<=649){jQuery('#footer').css({'position':'fixed','left':'0','bottom':'-20px'});}});});function expire(){var date,expires;date=new Date();date.setTime(date.getTime()+(365*24*60*60*1000));expires="; expires="+date.toGMTString();}
jQuery(window).load(function(){var cookie=jQuery.cookie("footer_notification");if(cookie===null){jQuery('.notification').slideToggle(500);var butHeight=jQuery('.notification').height();jQuery('.blankButton').css("height",butHeight);jQuery.cookie('footer_notification','no',{expires:365,path:'/'});}
var brandalley_messaging_cookies=jQuery.cookie('brandalley_messaging');var old_wisepop=jQuery.cookie('wisepop');if(jQuery('.brandalley-messaging').length>0){if(old_wisepop){document.cookie='wisepop=exist;expires=Thu, 01 Jan 1970 00:00:01 GMT;';jQuery.cookie('brandalley_messaging','exist',{expires:365,path:'/'});}
if(!old_wisepop&&brandalley_messaging_cookies===null){jQuery('.brandalley-messaging').addClass('show');jQuery.cookie('brandalley_messaging','exist',{expires:365,path:'/'});}}
jQuery('.brandalley-messaging .fa-close').click(function(){jQuery(this).parent().removeClass('show');jQuery.cookie('brandalley_messaging','exist',{expires:365,path:'/'});});if(jQuery(window).height()>=jQuery(document).height()){jQuery('#footer').css({'position':'fixed','left':'0','bottom':'-20px'});}else{jQuery('#footer ').css({'position':'relative','left':'0','bottom':'-20px'});}});jQuery(window).resize(function(){var butHeight=jQuery('.notification').height();jQuery('.blankButton').css("height",butHeight);jQuery('#footer ').css({'position':'relative','left':'0','bottom':'-20px'});if(jQuery(window).height()>=jQuery(document).height()){jQuery('#footer').css({'position':'fixed','left':'0','bottom':'-20px'});}else{if(jQuery("#footer").css('display')=="none"){jQuery(this).css('display','block');}
jQuery('#footer ').css({'position':'relative','left':'0','bottom':'-20px'});}});var psloginLoginPath=null;var customerLogoutPath=null;var showFullButtonsAfterViewMore=false;var personaCurrentEmail=false;jQuery(document).ready(function(){jQuery('.pslogin-showmore-button').on('click',function(){var $buttons=jQuery(this).parents('div.pslogin-buttons');$buttons.find('.pslogin-hidden').fadeToggle(275);jQuery(this).parents('div.pslogin-showmore').hide();if(showFullButtonsAfterViewMore!=true){$buttons.removeClass('pslogin-buttons-showfull');$buttons.parents('div.pslogin-block.pslogin-login').find('.pslogin-title').show();}});var win=null;jQuery('.pslogin-buttons').on('click','a',function(){var $link=jQuery(this);var width=$link.data('width');var height=$link.data('height');var left=parseInt((jQuery(window).width()-width)/2);var top=parseInt((jQuery(window).height()-height)/2);var params=['resizable=yes','scrollbars=no','toolbar=no','menubar=no','location=no','directories=no','status=yes','width='+width,'height='+height,'left='+left,'top='+top];if(win){win.close();}
if($link.attr('href')){win=window.open($link.attr('href'),'pslogin_popup',params.join(','));win.focus();if($link.data('loader')){jQuery(win.document).ready(function(){var loaderText='Loading...';var html='<!DOCTYPE html><html style="height: 100%;"><head><meta name="viewport" content="width=device-width, initial-scale=1"><title>'+loaderText+'</title></head>';html+='<body style="height: 100%; margin: 0; padding: 0;">';html+='<div style="text-align: center; height: 100%;"><div id="loader" style="top: 50%; position: relative; margin-top: -50px; color: #646464; height:25px; font-size: 25px; text-align: center; font-family: Verdana, Geneva, Arial, Helvetica, sans-serif;">'+loaderText+'</div></div>';html+='</body></html>';jQuery(win.document).contents().html(html);});}}else{console.log('This Login Application was not configured correctly. Please contact our customer support.');}
return false;});var elements=document.getElementById("ps-login-button");if(elements){elements.onclick=function(){var gtmLink=document.getElementById("fb-signup-with-emails");gtmLink.click();}}
if(personaCurrentEmail!==false){navigator.id.watch({loggedInEmail:personaCurrentEmail,onlogin:function(assertion){if(psloginLoginPath){jQuery.ajax({type:'GET',dataType:'json',url:psloginLoginPath,data:{type:'persona',assertion:assertion},success:function(res,status,xhr){if(!res.closeWindow&&res.redirectUrl){window.location.href=res.redirectUrl;}},error:function(res,status,xhr){alert('Login failure');}});}},onlogout:function(){}});jQuery('.pslogin-buttons .pslogin-button.persona').on('click','a',function(event){event.stopPropagation();navigator.id.request();return false;});if(personaCurrentEmail){jQuery('a[href^="'+customerLogoutPath+'"]').on('click',function(){navigator.id.logout();});}}
jQuery('.prpop-close-btn').on('click',function(){jQuery('.pslogin-addedoverlay, .pslogin-pop-up-form').hide();jQuery('html').css('overflow','auto');return false;});if(jQuery('.pslogin-pop-up-form').is(':visible')){jQuery('html').css('overflow','hidden');}
jQuery('.pslogin-fake-email-message .close-message').on('click',function(){jQuery(this).parent().hide();});var currentday=new Date();var activeday=new Date("December 01, 2017 00:00:00");var endday=new Date("December 26, 2017 00:00:00");if(currentday.getTime()>activeday&&currentday.getTime()<endday){jQuery('.christmas_nav').show();jQuery('.christmas_nav').prev('.outlet-pipe').show();}});function customerEditFakeEmail(){jQuery("#email").removeClass("validation-passed").addClass("validation-failed").after('<div class="validation-advice pslogin-fake-email" id="advice-required-entry-email">Please enter valid email address.</div>');var reset=true;jQuery("#email").on('click focus',function(){if(reset){jQuery(this).removeClass("validation-failed").addClass("validation-passed").val('');jQuery('#advice-required-entry-email.pslogin-fake-email').remove();}
reset=false;});}
var delay=(function(){var timer=0;return function(callback,ms){clearTimeout(timer);timer=setTimeout(callback,ms);};})();function validateEmailHost(url,email,buttonHolder,messageHolder){var date=new Date();var timestamp=date.getTime();const develoVariantButtonClasses=['dd-join-now-btn-email-a','dd-join-now-btn-email-b'];url=url+'/t/'+timestamp;if(buttonHolder){var button=$(buttonHolder)
button.disabled=true;button.setStyle({backgroundColor:'#ebebeb'});currentHtml=button.innerHTML;button.update('<span><span>Loading...</span></span>');}
let eventType=messageHolder;if(messageHolder==='message_signup-error-a'||messageHolder==='message_signup-error-b')eventType='message_signup';new Ajax.Request(url,{method:"post",parameters:{email:email,event:eventType},onCreate:function(){},onSuccess:function(transport){var section=$(messageHolder);var response=transport.responseText.evalJSON();if(!section){return;}
var ul=section.select('.error_message')[0];if(ul){ul.remove();}
if(response.error){var section=$(messageHolder);if(!section){return;}
var ul=section.select('.error_message')[0];if(!ul){section.insert({top:'<div class="error_message"></div>'});ul=section.select('.error_message')[0]}
var li=$(ul).select('.validation-advice')[0];if(!li){$(ul).insert({top:'<div class="validation-advice"></div>'});li=$(ul).select('.validation-advice')[0];}
$(li).insert(response.error);if(buttonHolder){button.removeAttribute('disabled');button.setStyle({backgroundColor:'#ffdb00'});button.update(currentHtml);}
if(response.error.match(/already an account/gi)&&response.success==0){if(develoVariantButtonClasses.includes(buttonHolder)){if(buttonHolder==='dd-join-now-btn-email-a'){let signUpInputValA=$ddSignupEmailA.val()
ddResetSignupFormA();ddResetForgotPwFormA()
ddGoSignupStep1A();ddResetLoginFormA()
let $tabItemContent=jQuery('#dd-popup-variant-a .dd-tab-item-content')
let $tabItem=jQuery('#dd-popup-variant-a .dd-tab-item')
$tabItemContent.each((e,el)=>{if(jQuery(el).data('tab-item')==='tab-login'){jQuery(el).show();}else{jQuery(el).hide();}})
$tabItem.removeClass('active')
ddResetBannersA();$ddPopupModalA.addClass('active-tab-login')
$ddPopupModalA.find('#dd-variant-a-login').addClass(step2ClassA)
$ddPopupModalA.find('a.dd-tab-item[data-tab-item="tab-login"]').addClass('active')
$ddPopupModalA.find('.dd-tab-header').slideDown();jQuery('#dd-login-email-a').val(signUpInputValA)
jQuery('#dd-login-password-a').focus()}
if(buttonHolder==='dd-join-now-btn-email-b'){let signUpInputValB=$ddSignupEmailB.val()
ddGoLoginB()
jQuery('#dd-login-email-b').val(signUpInputValB)
jQuery('#dd-login-password-b').focus()}
jQuery('.dd-login-message-success').slideDown();}else{document.getElementById("signup-popup-show").style.display="none";document.getElementById("login-email").value=email;document.getElementById("message_login").innerHTML="Please enter your password.";document.getElementById("newLogin").style.display="block";}}}else{if(buttonHolder=='join-now-btn-email'){jQuery('.facebook.step1').hide();jQuery('.joinNowFormPass').css('display','block');jQuery('.subscription-box').show();jQuery('#password').focus();jQuery('.joinNowFormEmaill').css('display','none');jQuery('.pslogin-register, .separator, .login-terms-cookies, .acba-terms').hide();jQuery('.login-terms-cookies, .acba-terms').addClass('next-step');jQuery('.login-triger').css('display','none');jQuery('#email_address').val(email);}else if(buttonHolder=='send2'){$(buttonHolder).up('form').submit();}
if(buttonHolder==='dd-join-now-btn-email-a')ddGoSignupStep2A()
if(buttonHolder==='dd-join-now-btn-email-b')ddGoSignupStep2B()}
if(response.redirect){document.location=response.redirect;return;}
if(buttonHolder){button.removeAttribute('disabled');button.setStyle({backgroundColor:'#ffdb00'});button.update(currentHtml);}},onFailure:function(){document.location.reload();}});}
jQuery(document).ready(function(){if(jQuery(window).width()<=768){jQuery('#trustBox').attr('data-style-width','100%');}else{jQuery('#trustBox').attr('data-style-width','750px');}
jQuery(window).resize(function(){delay(function(){if(jQuery(this).width()<=768){jQuery('#trustBox').attr('data-style-width','100%');}else{jQuery('#trustBox').attr('data-style-width','750px');}},10);});});